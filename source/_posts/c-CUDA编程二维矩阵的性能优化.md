---
title: c++-CUDA编程二维矩阵的性能优化
date: 2020-08-17 14:54:07
tags: cuda
---

# 序言
cuda程序需要分配内存到gpu上进行计算,分配内存的函数最基本的是`cudaMemcpy`,这样数据是连续存放的,但是要访问2维的数组,其实可以有更快的办法.
这就涉及到内存对齐的问题了,cuda从512字节(这个倍数跟设备有关,我的电脑是512字节,也有256,128的,都是2的幂)对齐的地址(addr=0, 512, 1024...)开始的连续访问是最有效率的。
这样，为了提高内存访问的效率，有了cudaMallocPitch函数。 